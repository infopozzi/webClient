{% extends "template.html" %}

{% block conteudo %}

<form action="{{url_for('professor.salvar')}}" method="POST">
    <h2> Cadastro de Professor/Cadastro </h2>

    <hr/>

    <div class="row">
        <input type="hidden" name="id" id="id" value="{{professor.id}}"  />

        <div class="col-md-9 form-group">
            <label class="control-label">Nome</label>
            <input class="form-control" type="text" name="nome" id="nome" value="{{professor.nome}}" required />
        </div>
    
         <div class="col-md-3 form-group">
            <label class="control-label">Idade</label>
            <input class="form-control" type="number" name="idade" id="idade" value="{{professor.idade}}" required />
        </div>

        <div class="col-md-6 form-group">
            <label class="control-label">Matéria</label>
            <input class="form-control" type="text" name="materia" id="materia" value="{{professor.materia}}" required />
        </div>

        <div class="col-md-6 form-group">
            <label class="control-label">Observação</label>
            <input class="form-control" type="text" name="observacao" id="observacao" value="{{professor.observacao}}" required />
        </div>
    </div>    

    <hr/>

    <div class="row">
        <input type="submit" class="btn btn-success" id="btnset" value="Salvar" /> 
    </div>
        
</form>

<script>

function buscar()
{
    debugger
    /*
    fetch('http://127.0.0.1:8080/bucar/1')
  .then(response => response.json())
  .then(data => {alert(data.usuario.nome)})
  .catch(error => console.error('Erro na requisição:', error)); */

}

function salvar()
{
    fetch('http://127.0.0.1:8080/salvar', { method: 'POST', headers : { 'Content-Type': 'application/json' }, body:  JSON.stringify({ nome: "mateus"}) })
  .then(response => response.json())
  .then(data => {alert(data.message)})
  .catch(error => console.error('Erro na requisição:', error));

/*
    const data = {
        nome: "mateus"
    };

    fetch('http://127.0.0.1:8080/salvar', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'  // Define o tipo de conteúdo como JSON
        },
        body: JSON.stringify(data)  // Converte o objeto JavaScript para JSON
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Erro na resposta da rede');
        }
        return response.json();  // Converte a resposta para JSON
    })
    .then(data => {
        alert(data.message);  // Exibe a mensagem de sucesso
    })
    .catch(error => {
        console.error('Erro na requisição:', error);
    });
    */

}

</script>

{% endblock %}